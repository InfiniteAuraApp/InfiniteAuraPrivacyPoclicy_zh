<!doctype html>
<html lang="zh" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>隐私政策 — Infinite Aura</title>

  <!-- App / Site Icon (Infinite Aura) -->
  <link rel="apple-touch-icon" sizes="180x180" href="https://infiniteauraapp.github.io/InfiniteAuraPrivacyPoclicy_zh/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://infiniteauraapp.github.io/InfiniteAuraPrivacyPoclicy_zh/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://infiniteauraapp.github.io/InfiniteAuraPrivacyPoclicy_zh/favicon-16x16.png">
  <link rel="shortcut icon" href="https://infiniteauraapp.github.io/InfiniteAuraPrivacyPoclicy_zh/favicon.ico">

  <meta name="theme-color" content="#0b0c10">
  <meta name="msapplication-TileColor" content="#0b0c10">

  <style>
    :root{
      --bg: #0b0c10;
      --surface: rgba(255,255,255,.05);
      --surface2: rgba(255,255,255,.08);
      --text: rgba(255,255,255,.93);
      --muted: rgba(255,255,255,.72);
      --border: rgba(255,255,255,.12);
      --accent: #7c5cff;
      --accent2: #25d366;
      --shadow: 0 16px 40px rgba(0,0,0,.35);
      --radius: 18px;
      --max: 1120px;

      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";

      --pad: clamp(14px, 1.6vw, 22px);
      --gap: clamp(12px, 1.4vw, 18px);
    }

    @media (prefers-color-scheme: light){
      :root{
        --bg: #f6f7fb;
        --surface: rgba(0,0,0,.045);
        --surface2: rgba(0,0,0,.065);
        --text: rgba(0,0,0,.92);
        --muted: rgba(0,0,0,.64);
        --border: rgba(0,0,0,.12);
        --shadow: 0 14px 34px rgba(0,0,0,.12);
      }
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    html{ scroll-behavior:smooth; }

    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      line-height: 1.9;
      background:
        radial-gradient(900px 650px at 15% -10%, rgba(124,92,255,.30), transparent 60%),
        radial-gradient(800px 600px at 100% 10%, rgba(37,211,102,.16), transparent 60%),
        var(--bg);
    }

    a{ color: var(--accent); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    /* Accessibility */
    :focus-visible{
      outline: 3px solid rgba(124,92,255,.55);
      outline-offset: 3px;
      border-radius: 12px;
    }

    .skip{
      position:absolute;
      top:-60px;
      left:16px;
      background: var(--surface2);
      border: 1px solid var(--border);
      padding:10px 12px;
      border-radius: 12px;
      box-shadow: var(--shadow);
      transition: top .2s ease;
      z-index: 50;
    }
    .skip:focus{ top: 14px; }

    .wrap{
      max-width: var(--max);
      margin: 0 auto;
      padding: 24px 16px 70px;
    }

    header.hero{
      border: 1px solid var(--border);
      border-radius: calc(var(--radius) + 8px);
      background:
        linear-gradient(135deg, rgba(124,92,255,.22), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      padding: calc(var(--pad) + 6px);
      position: relative;
      overflow: hidden;
    }
    header.hero::after{
      content:"";
      position:absolute;
      inset:-60px -70px auto auto;
      width: 240px;
      height: 240px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.26), transparent 55%);
      transform: rotate(18deg);
      pointer-events:none;
      filter: blur(.2px);
    }

    .brand{
      display:flex;
      gap: 14px;
      align-items:flex-start;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    .brand h1{
      margin: 0;
      font-size: clamp(22px, 2.6vw, 36px);
      letter-spacing: .2px;
      line-height: 1.25;
    }

    .meta{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items:center;
      margin-top: 10px;
      color: var(--muted);
      font-size: 14px;
    }

    .pill{
      display:inline-flex;
      gap: 8px;
      align-items:center;
      padding: 7px 12px;
      border: 1px solid var(--border);
      border-radius: 999px;
      background: rgba(255,255,255,.03);
      white-space: nowrap;
      backdrop-filter: blur(8px);
    }

    .btnRow{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items:center;
      margin-top: 4px;
    }

    button{
      font-family: inherit;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.04);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 14px;
      cursor: pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      backdrop-filter: blur(8px);
    }
    button:hover{
      background: rgba(255,255,255,.08);
      border-color: rgba(255,255,255,.18);
      transform: translateY(-1px);
    }
    button:active{ transform: translateY(0); }

    .muted{ color: var(--muted); }
    .small{ font-size: 13px; color: var(--muted); }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: var(--gap);
      margin-top: var(--gap);
      align-items:start;
    }
    @media (min-width: 980px){
      .grid{ grid-template-columns: 360px 1fr; }
    }

    .card{
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--surface);
      box-shadow: var(--shadow);
      overflow: hidden;
      backdrop-filter: blur(10px);
    }

    .card-h{
      padding: 14px 14px 12px;
      border-bottom: 1px solid var(--border);
      background: rgba(255,255,255,.02);
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
    }

    .card-h h2{
      margin: 0;
      font-size: 16px;
      color: var(--text);
      letter-spacing: .2px;
    }

    .card-b{ padding: 14px; }

    /* TOC */
    .tocWrap{
      position: relative;
    }

    @media (min-width: 980px){
      .tocWrap{
        position: sticky;
        top: 18px;
        max-height: calc(100vh - 36px);
        overflow: auto;
        scrollbar-width: thin;
      }
    }

    .toc a{
      display:flex;
      justify-content: space-between;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      color: var(--text);
      border: 1px solid transparent;
      transition: background .12s ease, border-color .12s ease, transform .12s ease;
    }
    .toc a:hover{
      background: var(--surface2);
      border-color: var(--border);
      text-decoration: none;
      transform: translateY(-1px);
    }
    .toc a.active{
      background: rgba(124,92,255,.16);
      border-color: rgba(124,92,255,.35);
      box-shadow: 0 0 0 4px rgba(124,92,255,.10) inset;
    }

    /* Content */
    main article{
      padding: 16px;
    }

    /* Readability: max text width inside article */
    .prose{
      max-width: 78ch;
      margin-inline: auto;
      padding-bottom: 4px;
    }

    /* ========== Policy Accordion Sections ========== */
    details.policy-sec{
      padding: 10px 0;
      border-bottom: 1px dashed var(--border);
      scroll-margin-top: 96px;
    }

    details.policy-sec:last-child{
      border-bottom: none;
      padding-bottom: 6px;
    }

    details.policy-sec > summary{
      cursor: pointer;
      list-style: none;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;

      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.03);
      transition: background .12s ease, transform .12s ease, border-color .12s ease;
    }

    details.policy-sec > summary:hover{
      background: var(--surface2);
      border-color: rgba(255,255,255,.18);
      transform: translateY(-1px);
    }

    details.policy-sec > summary::-webkit-details-marker{ display:none; }

    details.policy-sec > summary .title{
      font-size: clamp(18px, 1.5vw, 20px);
      font-weight: 800;
      line-height: 1.35;
      letter-spacing: .15px;
      margin: 0;
    }

    details.policy-sec > summary::after{
      content: "▾";
      font-size: 18px;
      opacity: .8;
      transform: translateY(-1px);
      transition: transform .14s ease;
    }

    details.policy-sec[open] > summary{
      background: rgba(124,92,255,.10);
      border-color: rgba(124,92,255,.35);
      box-shadow: 0 0 0 4px rgba(124,92,255,.10) inset;
      transform: none;
    }

    details.policy-sec[open] > summary::after{
      transform: rotate(180deg);
    }

    details.policy-sec .sec-body{
      padding: 12px 4px 6px;
    }

    h3{
      margin: 0 0 10px;
      font-size: clamp(18px, 1.5vw, 20px);
      line-height: 1.35;
      letter-spacing: .15px;
    }

    p{ margin: 0 0 10px; }

    ul,ol{
      margin: 10px 0;
      padding: 0 0 0 18px;
    }
    li{ margin: 8px 0; }

    code{
      font-family: var(--mono);
      font-size: 0.92em;
      padding: 2px 6px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.04);
      direction: ltr;
      unicode-bidi: plaintext;
    }

    .callout{
      border: 1px solid var(--border);
      background: rgba(255,255,255,.04);
      border-radius: 16px;
      padding: 12px 14px;
      margin: 12px 0;
    }
    .callout strong{ display:block; margin-bottom: 6px; }

    .badge{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.03);
      color: var(--muted);
      font-size: 13px;
      margin: 4px 6px 4px 0;
      white-space: nowrap;
    }
    .badge i{
      width: 10px; height: 10px; border-radius: 999px; display:inline-block;
      background: var(--accent);
      box-shadow: 0 0 0 4px rgba(124,92,255,.16);
    }
    .badge.ok i{ background: #25d366; box-shadow: 0 0 0 4px rgba(37,211,102,.15); }
    .badge.warn i{ background: #ffb020; box-shadow: 0 0 0 4px rgba(255,176,32,.15); }
    .badge.bad i{ background: #ff4d4f; box-shadow: 0 0 0 4px rgba(255,77,79,.15); }

    /* Inner details only (not policy sections) */
    .prose details:not(.policy-sec){
      border: 1px solid var(--border);
      border-radius: 16px;
      background: rgba(255,255,255,.03);
      padding: 10px 12px;
      margin: 12px 0;
    }
    .prose details[open]:not(.policy-sec){
      background: rgba(255,255,255,.04);
    }
    .prose details:not(.policy-sec) > summary{
      cursor:pointer;
      font-weight: 700;
      color: var(--text);
      list-style: none;
    }
    .prose details:not(.policy-sec) > summary::-webkit-details-marker{ display:none; }

    .hr{
      height: 1px;
      background: var(--border);
      margin: 12px 0;
    }

    .footer{
      margin-top: var(--gap);
      padding: 16px;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: rgba(255,255,255,.03);
      color: var(--muted);
      font-size: 14px;
      backdrop-filter: blur(10px);
    }

    /* Mobile TOC (optional collapsible wrapper) */
    .tocMobile{
      display:none;
    }
    @media (max-width: 979px){
      .tocMobile{ display:block; margin-top: var(--gap); }
      .tocDesktop{ display:none; }
      main article{ padding: 14px; }
    }

    /* Print */
    @media print{
      body{ background:#fff; color:#000; }
      .card, header.hero, .footer{ box-shadow:none; }
      a{ color:#000; text-decoration: underline; }
      .btnRow, .skip{ display:none; }
      .tocDesktop{ display:none; }
      .tocMobile{ display:none; }
      .prose{ max-width: none; }
    }

    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      button, .toc a{ transition:none; }
    }
  </style>
</head>

<body>
  <a class="skip" href="#content">跳转到内容</a>

  <div class="wrap">
    <header class="hero">
      <div class="brand">
        <div>
          <h1>隐私政策 — Infinite Aura</h1>
          <div class="meta">
            <span class="pill">最后更新：<strong id="lastUpdated">2025年12月25日</strong></span>
          </div>
        </div>

        <div class="btnRow">
          <button type="button" onclick="window.print()">打印 / 保存为 PDF</button>
          <button type="button" onclick="toggleAll(true)">展开所有章节</button>
          <button type="button" onclick="toggleAll(false)">收起所有章节</button>
        </div>
      </div>

      <p class="muted" style="margin-top:12px">
        本政策说明 <strong>Infinite Aura</strong> 应用如何收集、使用并保护您的数据。
        我们力求内容清晰易懂，并且——在尽可能的范围内——与约旦《个人数据保护法》第 24 号（2023 年）
        的要求保持一致（自 2024 年 3 月 17 日起生效）。
      </p>
    </header>

    <!-- Mobile TOC -->
    <details class="card tocMobile">
      <summary class="card-h" style="user-select:none">
        <h2 style="margin:0; font-size:16px">快速目录</h2>
        <span class="small">点击展开</span>
      </summary>
      <div class="card-b toc" id="tocMobile">
        <a href="#s1">1) 我们是谁？谁是“数据控制者”？</a>
        <a href="#s2">2) 本政策范围与关键定义</a>
        <a href="#s3">3) 我们收集的数据（详细）</a>
        <a href="#s3a">3-A) 中心验证与合规文件</a>
        <a href="#s4">4) 我们为何处理您的数据？（目的）</a>
        <a href="#s5">5) 处理的法律依据（约旦）</a>
        <a href="#s6">6) 敏感数据与儿童数据</a>
        <a href="#s7">7) 加密与安全（E2EE）</a>
        <a href="#s8">8) 数据共享与谁可以访问？</a>
        <a href="#s8a">8-A) 服务提供方（处理者）与数据共享</a>
        <a href="#s9">9) 通知、FCM 与沟通</a>
        <a href="#s10">10) 位置与 Google Maps</a>
        <a href="#s11">11) 数据保留与删除</a>
        <a href="#s12">12) 约旦法律下您的权利</a>
        <a href="#s13">13) 国际数据传输（约旦境外）</a>
        <a href="#s13a">13-A) 约旦境外用户（国际范围）</a>
        <a href="#s14">14) 如何联系我们（投诉与请求）</a>
        <a href="#s15">15) 政策变更</a>
      </div>
    </details>

    <div class="grid">
      <!-- Desktop TOC -->
      <aside class="card tocDesktop">
        <div class="card-h">
          <h2>快速目录</h2>
          <span class="small">点击跳转</span>
        </div>
        <div class="card-b toc tocWrap" id="toc">
          <a href="#s1">1) 我们是谁？谁是“数据控制者”？</a>
          <a href="#s2">2) 本政策范围与关键定义</a>
          <a href="#s3">3) 我们收集的数据（详细）</a>
          <a href="#s3a">3-A) 中心验证与合规文件</a>
          <a href="#s4">4) 我们为何处理您的数据？（目的）</a>
          <a href="#s5">5) 处理的法律依据（约旦）</a>
          <a href="#s6">6) 敏感数据与儿童数据</a>
          <a href="#s7">7) 加密与安全（E2EE）</a>
          <a href="#s8">8) 数据共享与谁可以访问？</a>
          <a href="#s8a">8-A) 服务提供方（处理者）与数据共享</a>
          <a href="#s9">9) 通知、FCM 与沟通</a>
          <a href="#s10">10) 位置与 Google Maps</a>
          <a href="#s11">11) 数据保留与删除</a>
          <a href="#s12">12) 约旦法律下您的权利</a>
          <a href="#s13">13) 国际数据传输（约旦境外）</a>
          <a href="#s13a">13-A) 约旦境外用户（国际范围）</a>
          <a href="#s14">14) 如何联系我们（投诉与请求）</a>
          <a href="#s15">15) 政策变更</a>
        </div>
      </aside>

      <!-- CONTENT -->
      <main class="card" id="content">
        <div class="card-h">
          <h2>政策文本</h2>
        </div>

        <article>
          <div class="prose">

<!-- ===================== POLICY SECTIONS (Accordion) ===================== -->
<details class="policy-sec" id="s1">
  <summary><span class="title">1) 我们是谁？谁是“数据控制者”？</span></summary>
  <div class="sec-body">
    <p>
      <strong>Infinite Aura</strong>（“本应用”）是一套智能系统，用于支持初步自闭症筛查以及会话、治疗、预约与各方沟通
      （监护人、中心、训练师、管理方）的管理。
    </p>
    <div class="callout">
      <strong>数据控制者：</strong>
      <p class="muted" style="margin:0">
        <strong>Infinite Aura</strong><br/>
        地址：<strong>约旦 — 亚喀巴省</strong><br/>
        隐私邮箱：<strong>app.asd.cure@gmail.com</strong><br/>
        电话/WhatsApp：<strong style="direction: ltr; text-align: left;">+962 77 735 2268</strong>
      </p>
    </div>
  </div>
</details>

<details class="policy-sec" id="s2">
  <summary><span class="title">2) 本政策范围与关键定义</span></summary>
  <div class="sec-body">
    <p>本政策适用于：</p>
    <ul>
      <li>Infinite Aura 移动应用（Android/iOS）及任何相关界面。</li>
      <li>在应用内创建的数据，或通过支持渠道发送给我们的数据。</li>
    </ul>

    <details>
      <summary>快速定义</summary>
      <div class="hr"></div>
      <ul>
        <li><strong>个人数据：</strong>任何可直接或间接识别自然人的信息（例如姓名、邮箱、位置……）。</li>
        <li><strong>敏感数据：</strong>包括健康/身体或心理状况数据、生物识别数据等。</li>
        <li><strong>用户：</strong>监护人 / 中心 / 训练师 / 管理员 / 子管理员。</li>
        <li><strong>个体：</strong>应用中记录会话与结果的儿童/个人。</li>
      </ul>
    </details>
  </div>
</details>

<details class="policy-sec" id="s3">
  <summary><span class="title">3) 我们收集的数据</span></summary>
  <div class="sec-body">
    <p><span class="badge"><i></i>用户账户</span></p>
    <ul>
      <li><strong>注册 / 登录数据：</strong>电子邮箱、密码（由 Firebase Auth 管理），和/或邮箱 OTP 验证。</li>
      <li><strong>可选联系数据：</strong>电话号码（用于短信验证）、国家/国家代码、偏好语言。</li>
      <li><strong>角色与权限：</strong>监护人 / 中心 / 训练师 / 管理员 / 子管理员。</li>
    </ul>

    <p><span class="badge warn"><i></i>个体资料（儿童/个人）</span></p>
    <ul>
      <li>名和姓、性别、出生日期（视使用情况可选）、备注。</li>
      <li>个体头像（可选）上传至云存储。</li>
      <li>个体资料内的监护人数据（可选）：姓名/关系/邮箱。</li>
      <li>排程数据：下一次会话时间及会话前提醒（使用提醒功能时）。</li>
    </ul>

    <p><span class="badge bad"><i></i>会话与“筛查/随访”结果</span></p>
    <ul>
      <li>会话照片（用于设备端分析，然后以<strong>加密</strong>形式上传到存储）。</li>
      <li>问卷/活动答案以<strong>加密</strong>形式存储在数据库中。</li>
      <li>评分/指标（例如 photo_score / questionnaire_score / combined_score…）</li>
    </ul>

    <p><span class="badge"><i></i>预约与与中心的沟通</span></p>
    <ul>
      <li>预约请求：监护人姓名、邮箱、消息文本、偏好时间，以及在批准/改期后的最终预约时间。</li>
      <li>请求状态：pending / approved / rejected / rescheduled 以及适用时的拒绝原因。</li>
    </ul>

    <p><span class="badge"><i></i>通知</span></p>
    <ul>
      <li>用于发送通知的 Firebase Cloud Messaging（FCM）设备令牌。</li>
      <li>如启用：应用内通知日志（标题/内容/时间/深链）。</li>
    </ul>

    <p><span class="badge"><i></i>公开中心数据（Centers Directory）</span></p>
    <ul>
      <li>中心描述、地址、工作日/时间、电话号码、网站链接与 Google Maps 链接。</li>
      <li>当中心选择发布时，这些数据会在 “Centers Directory” 中公开显示。</li>
    </ul>

    <details>
      <summary>我们是否收集“设备数据”“分析”或“广告”数据？</summary>
      <div class="hr"></div>
      <p class="muted">
        我们默认不在应用中投放定向广告，也不会出售您的数据。操作系统/应用商店可能出于安全与运营目的收集
        标准技术数据（例如设备类型/系统版本）。
      </p>
    </details>
  </div>
</details>

<details class="policy-sec" id="s3a">
  <summary><span class="title">3-A) 中心验证与合规文件</span></summary>
  <div class="sec-body">
    <p>
      在注册“中心”账户或需要重新验证时，我们可能会要求中心上传用于验证与合规的文件，
      以证明中心身份/许可（例如许可/注册/官方文件，视具体情况而定）。
    </p>

    <div class="callout">
      <strong>此类数据可能包括什么？</strong>
      <ul class="muted" style="margin:0; padding-left:18px">
        <li>中心为验证而上传的官方文件图片/文件。</li>
        <li>与文件相关的运营元数据（文件名、类型、大小、上传时间与验证状态）。</li>
      </ul>
    </div>

    <div class="callout">
      <strong>谁可以访问？</strong>
      <p class="muted" style="margin:0">
        访问仅限于中心账户本身以及系统内获授权的管理账户
        （例如按照权限的 admin/sub-admin），用于审核与验证决策。
      </p>
    </div>

    <p class="muted">
      我们会在验证或合规所需的期限内保留验证文件。它们可能会在批准后、重新上传时或账户删除时被删除或替换，
      但需遵守任何法律保留义务（如有）。
    </p>
  </div>
</details>

<details class="policy-sec" id="s4">
  <summary><span class="title">4) 我们为何处理您的数据？（目的）</span></summary>
  <div class="sec-body">
    <ul>
      <li>创建账户、登录与验证（邮箱/OTP/电话）。</li>
      <li>管理个体资料、会话与结果，并随时间跟踪进展。</li>
      <li>发送运营类通知：会话提醒、预约状态更新、个体共享等。</li>
      <li>启用 Centers Directory、预约与直接沟通。</li>
      <li>防止滥用、调查崩溃并提升性能。</li>
      <li>在必要时遵守法律/监管要求。</li>
    </ul>
  </div>
</details>

<details class="policy-sec" id="s5">
  <summary><span class="title">5) 处理的法律依据（约旦）</span></summary>
  <div class="sec-body">
    <p>
      根据约旦《个人数据保护法》第 24 号（2023 年），数据处理主要基于数据主体的
      <strong>事先同意</strong>，除非法律允许特定例外情况。
    </p>
    <div class="callout">
      <strong>我们在应用中如何实践：</strong>
      <ul class="muted" style="margin:0; padding-left:18px">
        <li>您自愿提供数据（创建账户/添加个体/上传照片/发送预约请求）。</li>
        <li>系统权限（相机/位置/通知）仅在您设备端同意后生效。</li>
        <li>您可通过关闭权限或请求删除来撤回同意（见“权利”）。</li>
      </ul>
    </div>
  </div>
</details>

<details class="policy-sec" id="s6">
  <summary><span class="title">6) 敏感数据与儿童数据</span></summary>
  <div class="sec-body">
    <p>
      本应用会处理可能被视为“敏感”的数据，因为其与健康/心理状况相关，并可能涉及
      生物识别数据（例如用于设备端分析的人脸图像）。
    </p>
    <p class="muted">
      在应用中添加儿童/未成年人的数据应由其法定监护人/父母进行，或在其同意下进行。
      我们不旨在在缺乏监护人监督的情况下直接从儿童收集数据。
    </p>

    <details open>
      <summary>我们对儿童 / 无完全法律能力者的承诺</summary>
      <div class="hr"></div>
      <ul>
        <li>我们假设由监护人创建资料并同意在应用中输入儿童数据。</li>
        <li>我们将儿童资料与结果的共享限制在应用内已关联方（监护人/中心/训练师）且在明确权限下进行。</li>
        <li>监护人可随时请求访问/编辑/删除。</li>
      </ul>
    </details>
  </div>
</details>

<details class="policy-sec" id="s7">
  <summary><span class="title">7) 加密与安全（E2EE）</span></summary>
  <div class="sec-body">
    <p>
      Infinite Aura 中部分内容非常敏感（会话照片与问卷答案）。
      因此，我们对这些特定部分应用<strong>端到端加密（E2EE）</strong>：
    </p>

    <div class="callout">
      <strong>应用中的加密如何工作（清晰技术摘要）：</strong>
      <ul class="muted" style="margin:0; padding-left:18px">
        <li>为每个会话生成<strong>唯一的数据密钥</strong>（32 字节）。</li>
        <li>我们在上传前使用 AES-GCM 在您的设备上加密“问卷答案”和“会话照片”。</li>
        <li>会话密钥会针对每个获授权接收方（监护人/训练师/中心…）进行“包裹（wrapped）”，并存储在 <code>session.e2ee.wrapped_keys</code> 中。</li>
        <li>如果接收方尚无可用密钥，他们会列在 <code>pending_uids</code> 中，以便稍后完成包裹。</li>
      </ul>
    </div>

    <p class="muted">
      该设计意味着云存储与数据库保留的是<strong>加密数据</strong>，解密仅在持有正确密钥的设备上进行，
      且在应用基于角色的权限范围内。
    </p>

    <details>
      <summary>我们会存储与密钥相关的任何内容吗？</summary>
      <div class="hr"></div>
      <p class="muted">
        为了确保不同设备间持续访问加密数据（取决于账户设置），系统会在用户账户中保存与加密密钥相关的<strong>加密</strong>
        材料/备份。该数据仅用于在应用中启用加密功能（例如恢复/同步），并在访问控制与权限下使用。
      </p>
    </details>

    <details>
      <summary>那孩子的“脸部照片”呢？我们会存储吗？</summary>
      <div class="hr"></div>
      <p class="muted">
        应用会在设备上分析图像以提取指标（如微笑/面部朝向）并转换为“评分”。
        然后——如果您选择保存会话——图像会作为会话数据的一部分以<strong>加密</strong>方式上传（非公开）。
      </p>
    </details>

    <p>
      <span class="badge ok"><i></i>额外安全措施</span>
      <span class="badge"><i></i>基于角色的访问控制</span>
      <span class="badge"><i></i>访问规则（Firestore/Storage Rules）</span>
    </p>
  </div>
</details>

<details class="policy-sec" id="s8">
  <summary><span class="title">8) 数据共享与谁可以访问？</span></summary>
  <div class="sec-body">
    <p>本应用包含多种角色。访问取决于角色以及关联/共享：</p>
    <ul>
      <li><strong>监护人：</strong>管理关联的个体并向中心提交预约请求。</li>
      <li><strong>中心：</strong>管理中心个体及其会话，接收预约请求并进行批准/拒绝/改期。</li>
      <li><strong>训练师：</strong>在范围内访问关联个体，并基于权限开展会话。</li>
      <li><strong>管理员/子管理员：</strong>管理权限（例如按应用规定对子管理员施加国家限制等）。</li>
    </ul>

    <div class="callout">
      <strong>我们何时会将您的数据共享给第三方？</strong>
      <p class="muted" style="margin:0">
        通常情况下，我们不会在应用生态系统之外共享您的数据，除非为提供服务（托管/通知），
        您在应用内提出请求（例如与特定中心共享资料），或法律要求。
      </p>
    </div>
  </div>
</details>

<details class="policy-sec" id="s8a">
  <summary><span class="title">8-A) 服务提供方（处理者）与数据共享</span></summary>
  <div class="sec-body">
    <p>
      为了安全地提供与运行本应用，我们使用服务提供方（处理者）代表我们处理有限数据，
      且仅在我们的指示下用于运营目的。
    </p>

    <div class="callout">
      <strong>使用的服务提供方：</strong>
      <ul class="muted" style="margin:0; padding-left:18px">
        <li>Google/Firebase 服务（例如身份验证、数据库、云存储、通过 FCM 的通知，以及必要时的云函数）。</li>
      </ul>
    </div>

    <p class="muted">
      我们不出售您的数据。数据共享仅在为提供服务、基于您在应用内的请求（例如与中心共享）或法律要求时发生。
    </p>
  </div>
</details>

<details class="policy-sec" id="s9">
  <summary><span class="title">9) 通知、FCM 与沟通</span></summary>
  <div class="sec-body">
    <p>
      为发送通知（例如会话提醒或预约状态更新），我们使用 Firebase Cloud Messaging（FCM）。
      这需要在数据库中存储与您账户关联的“设备令牌”。
    </p>
    <p class="muted">
      我们会保留应用内通知日志（标题/内容/时间/深链），以便稍后在您的账户中展示通知。
    </p>
    <p class="muted">
      部分通知可能包含打开应用正确页面所需的运营数据（例如预约请求 ID 或会话 ID），
      我们不会将通知用于广告或广告追踪。
    </p>

    <details>
      <summary>如何停止通知？</summary>
      <div class="hr"></div>
      <ul>
        <li>在您的设备设置中：关闭应用通知。</li>
        <li>在应用内：系统设置更改后可能需要重新绑定令牌。</li>
      </ul>
    </details>
  </div>
</details>

<details class="policy-sec" id="s10">
  <summary><span class="title">10) 位置与 Google Maps</span></summary>
  <div class="sec-body">
    <p>
      位置选项用于——如果中心选择——在中心公开页面中自动填写 Google Maps 链接。
      如果您授予权限，我们会获取坐标并将其转换为 Maps 链接。
    </p>
    <div class="callout">
      <strong>重要提示：</strong>
      <p class="muted" style="margin:0">
        若中心公开发布 Google Maps 链接，该链接中可能包含坐标信息，从而暴露精确位置。
        您可以将该字段留空，或提供不包含精确坐标的通用链接。
      </p>
    </div>
  </div>
</details>

<details class="policy-sec" id="s11">
  <summary><span class="title">11) 数据保留与删除</span></summary>
  <div class="sec-body">
    <ul>
      <li><strong>用户账户：</strong>在账户保持活跃期间保留，或直到您请求删除。</li>
      <li><strong>个体与会话：</strong>在跟踪进展所需期间保留，或直到您请求删除。</li>
      <li><strong>预约：</strong>为运营记录目的保留，之后可按应用/管理设置删除/归档。</li>
      <li><strong>FCM 令牌：</strong>可能在退出登录/更换设备时移除，或应您请求移除。</li>
    </ul>

    <details>
      <summary>最终删除：哪些会立即删除？哪些可能需要时间？</summary>
      <div class="hr"></div>
      <p class="muted">
        当您请求删除账户或特定数据时，我们会在系统能力范围内从数据库与存储文件中删除相关内容。
        某些记录可能需要时间才能完全移除（例如存储文件或技术备份，如有），或者我们可能出于合规
        或防止滥用的合法原因保留最少记录（如法律要求）。
      </p>
      <ul class="muted">
        <li><strong>账户删除：</strong>包括按照系统流程禁用/删除账户数据。</li>
        <li><strong>资料/会话删除：</strong>在可能情况下删除相关记录，并可能包括从存储中移除相关文件。</li>
        <li><strong>例外：</strong>如存在法律义务或正当的安全/运营原因，我们可能保留最少记录。</li>
      </ul>
    </details>
  </div>
</details>

<details class="policy-sec" id="s12">
  <summary><span class="title">12) 约旦法律下您的权利</span></summary>
  <div class="sec-body">
    <p>
      约旦法律的相关摘要表明，数据主体可能拥有如下权利：访问、撤回同意、更正/更新数据、
      请求删除（“被遗忘权”）、反对处理/画像、获取副本/转移，以及报告数据泄露。
    </p>
    <div class="callout">
      <strong>如何在 Infinite Aura 中行使您的权利：</strong>
      <ol class="muted" style="margin:0; padding-left:18px">
        <li>发送邮件至：<strong>app.asd.cure@gmail.com</strong>，主题： “Data Rights Request — Infinite Aura”。</li>
        <li>说明请求类型：access / edit / delete / transfer / withdraw consent…</li>
        <li>提供账户所有权证明（例如账户邮箱或注册手机号）以保护您的数据。</li>
        <li>我们将根据请求规模/复杂度并按法律要求在合理时间内回复。</li>
      </ol>
    </div>
  </div>
</details>

<details class="policy-sec" id="s13">
  <summary><span class="title">13) 国际数据传输（约旦境外）</span></summary>
  <div class="sec-body">
    <p>应用数据通过云服务（Firebase/Google Cloud）托管。</p>
    <details>
      <summary>我们如何降低传输风险</summary>
      <div class="hr"></div>
      <ul>
        <li>我们仅使用提供服务所需的最少数据。</li>
        <li>我们对敏感会话内容应用端到端加密，使其即使托管在云端也保持不可读。</li>
        <li>我们会关注约旦监管更新（例如个人数据保护机构的相关规定）。</li>
      </ul>
    </details>
  </div>
</details>

<details class="policy-sec" id="s13a">
  <summary><span class="title">13-A) 约旦境外用户（国际范围）</span></summary>
  <div class="sec-body">
    <p>
      我们是位于约旦哈希姆王国的数据控制者，并遵守约旦《个人数据保护法》。
      根据您的居住地，可能还会适用其他隐私法律（例如欧盟法律或其他当地法律）。
    </p>
    <p class="muted">
      若您所在司法辖区对隐私权或数据处理有强制性要求，我们将按要求并在服务性质允许的范围内尽可能予以处理。
    </p>
  </div>
</details>

<details class="policy-sec" id="s14">
  <summary><span class="title">14) 如何联系我们（投诉与请求）</span></summary>
  <div class="sec-body">
    <div class="callout">
      <strong>官方联系渠道：</strong>
      <p class="muted" style="margin:0">
        隐私邮箱：<strong>app.asd.cure@gmail.com</strong><br/>
        一般支持：<strong>app.asd.cure@gmail.com</strong><br/>
        地址：<strong>约旦 — 亚喀巴省</strong>
      </p>
    </div>
    <p class="muted">
      如果您有隐私或安全方面的投诉，请包含：（账户类型、问题描述、日期/时间、可用时的截图）。
    </p>
    <div class="callout">
      <strong>数据/账户删除请求：</strong>
      <p class="muted" style="margin:0">
        若要请求删除账户或特定数据，请发送邮件至 <strong>app.asd.cure@gmail.com</strong>，主题：
        <strong>Data Deletion Request — Infinite Aura</strong>，并包含您的账户邮箱/注册手机号以便验证。
      </p>
    </div>
  </div>
</details>

<details class="policy-sec" id="s15">
  <summary><span class="title">15) 政策变更</span></summary>
  <div class="sec-body">
    <p>
      当我们新增功能（例如分析、外部集成或法律变更）时，可能会更新本政策。
      更新时，我们会更改页面顶部的“最后更新”日期，并在必要时发送应用内通知。
    </p>
  </div>
</details>
<!-- ===================== END POLICY SECTIONS ===================== -->

          </div>
        </article>
      </main>
    </div>

    <div class="footer">
      <strong>附录（简要技术透明度）：</strong>
      <p class="muted" style="margin-top:8px">
        本政策旨在匹配 Infinite Aura 的实际运行方式（会话的端到端加密、存储路径与 FCM 令牌），
        并与关于约旦《个人数据保护法》第 24 号（2023 年）的可靠摘要保持一致（同意、权利、跨境传输）。
      </p>
      <p class="muted" style="margin:0">
        © <span id="year"></span> <strong>Infinite Aura</strong>. 保留所有权利。
      </p>
    </div>
  </div>

<script>
  // Dynamic year
  document.getElementById("year").textContent = new Date().getFullYear();

  // Policy sections only (excluding mobile TOC)
  const policyDetails = Array.from(document.querySelectorAll("details.policy-sec"));

  // Open/close all sections (policy only)
  function toggleAll(open){
    policyDetails.forEach(d => d.open = !!open);
  }

  // Accordion: opening one closes the others
  let allowMultipleOpen = false; // temporarily changed when opening/closing all
  policyDetails.forEach(d => {
    d.addEventListener("toggle", () => {
      if (!d.open) return;
      if (allowMultipleOpen) return;
      policyDetails.forEach(other => {
        if (other !== d) other.open = false;
      });
    });
  });

  // When clicking "Open all", temporarily disable accordion behavior
  const _toggleAll = toggleAll;
  toggleAll = function(open){
    allowMultipleOpen = true;
    _toggleAll(open);
    setTimeout(() => { allowMultipleOpen = false; }, 0);
  };

  // Highlight active TOC link
  const tocLinksDesktop = Array.from(document.querySelectorAll("#toc a"));
  const tocLinksMobile = Array.from(document.querySelectorAll("#tocMobile a"));
  const allLinks = [...tocLinksDesktop, ...tocLinksMobile];
  const linkMap = new Map(allLinks.map(a => [a.getAttribute("href"), a]));

  function setActive(id){
    allLinks.forEach(a => a.classList.remove("active"));
    const a = linkMap.get("#" + id);
    if(a) a.classList.add("active");
    tocLinksDesktop.forEach(x => { if(x.getAttribute("href")==="#" + id) x.classList.add("active"); });
    tocLinksMobile.forEach(x => { if(x.getAttribute("href")==="#" + id) x.classList.add("active"); });
  }

  // If a TOC link is clicked: open the section before scrolling
  allLinks.forEach(a => {
    a.addEventListener("click", () => {
      const href = a.getAttribute("href");
      if(!href || !href.startsWith("#")) return;
      const id = href.slice(1);
      const target = document.getElementById(id);
      if(target && target.matches("details.policy-sec")){
        target.open = true;
      }
    });
  });

  // Observer on details instead of section
  const observer = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{
      if(!e.isIntersecting) return;
      setActive(e.target.id);
    });
  }, { rootMargin: "-45% 0px -50% 0px", threshold: 0.01 });

  policyDetails.forEach(d => observer.observe(d));

  // Close mobile TOC after click
  document.querySelectorAll("#tocMobile a").forEach(a=>{
    a.addEventListener("click", ()=>{
      const details = document.querySelector("details.tocMobile");
      if(details) details.open = false;
    });
  });
</script>

</body>
</html>
